<!-- <script>
    // redirect to form
    window.location.href = "https://galaxy.metaprovide.org/apps/forms/s/BxpNYfLKWHgGtQboYHHpTsCY";
</script> -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MetaProvide: Help others help more</title>
    <meta name="title" content="MetaProvide: Help others help more" />
    <meta
      name="description"
      content="We exist to give support to providers of well-being services, enabling them to more efficiently provide work and serve their community."
    />
    <meta itemprop="image" content="./assets/images/metaprovide_logo_seo.png" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://metaprovide.org/" />
    <meta property="og:title" content="MetaProvide: Help others help more" />
    <meta
      property="og:description"
      content="We exist to give support to providers of well-being services, enabling them to more efficiently provide work and serve their community."
    />
    <meta
      property="og:image"
      content="assets/images/metaprovide_logo_seo.png"
    />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://metaprovide.org/" />
    <meta
      property="twitter:title"
      content="MetaProvide: Help others help more"
    />
    <meta
      property="twitter:description"
      content="We exist to give support to providers of well-being services, enabling them to more efficiently provide work and serve their community."
    />
    <meta
      property="twitter:image"
      content="assets/images/metaprovide_logo_seo.png"
    />
    <meta name="robots" content="index, follow" />
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico" />
    <link rel="stylesheet" href="../assets/styles/util.css" />
    <link rel="stylesheet" href="../assets/styles/main.css" />
    <link
      rel="stylesheet"
      href="https://sibforms.com/forms/end-form/build/sib-styles.css"
    />
    <!-- Cookie consent managment by Osana -->
    <script src="https://cmp.osano.com/16CPXqTjn7XMBxF/5bde6be5-1af9-4cd4-aa09-875fe58b0043/osano.js"></script>
    <script src="../assets/javascript/main.js" defer></script>
    <script src="../assets/javascript/carousel.js" defer></script>
    <script type="module" src="https://unpkg.com/friendly-challenge@0.9.12/widget.module.min.js" async defer></script>
    <script nomodule src="https://unpkg.com/friendly-challenge@0.9.12/widget.min.js" async defer></script>
  </head>

<body class="hejbit-body">
    <nav>
      <input class="checkbox" type="checkbox" name="" id="" />
      <div class="hamburger-lines">
        <span class="line line1"></span>
        <span class="line line2"></span>
        <span class="line line3"></span>
      </div>
      <div class="logo-wrapper mr-16">
        <img
          src="../assets/images/logos/metaprovide-logo-2024.png"
          alt="MetaProvide logotype"
        />
      </div>
      <ul class="nav-list">
        <li class="nav-item"><a href="/">Home</a></li>
        <li class="nav-item"><a href="/team">Team</a></li>
        <li class="nav-item"><a href="/hejbit">HejBit</a></li>
        <li class="nav-item"><a href="/contact">Contact</a></li>
        <li class="nav-item"><a href="/blog">Blog</a></li>
      </ul>
    </nav>
    <main>
      <form id="trial-license-form" action="#" method="post">
        <header>
          <h2 class="form-title">
            Request Your Free Nextcloud Swarm Plugin Trial License
          </h2>
          <div class="form-desc">
            <p class="text-center">
              Experience the future of data storage with 5GB of free,
              decentralized storage on the Ethereum Swarm network. Our plugin
              seamlessly integrates with your existing Nextcloud interface,
              providing true data sovereignty without the complexity.
            </p>
          </div>
        </header>

        <div id="form-message"></div>
        <!-- Placeholder for the message -->

        <div class="center">
          <input
            class="hejbit-input"
            type="text"
            name="name"
            placeholder="Name *"
            required
          />
        </div>
        <div class="center">
          <input
            class="hejbit-input"
            type="text"
            name="email"
            placeholder="Email Address *"
            required
          />
        </div>
        <div class="center">
          <input
            class="hejbit-input"
            type="text"
            name="job_title"
            placeholder="Job Title"
          />
        </div>
        <div class="center">
          <input
            class="hejbit-input"
            type="text"
            name="organization"
            placeholder="Organization"
          />
        </div>
        <div class="center">
          <input
            class="hejbit-input"
            type="text"
            name="organization_size"
            placeholder="Organization Size"
          />
        </div>
        <div class="center">
          <input
            class="hejbit-input"
            type="text"
            name="nextcloud_version"
            placeholder="Nextcloud Version"
          />
        </div>
        <div class="center">
          <input
            class="hejbit-input"
            type="text"
            name="primary_user_case"
            placeholder="Primary User Case"
          />
        </div>
        <div class="center">
          <input
            class="hejbit-input"
            type="text"
            name="current_storage_solution"
            placeholder="Current Storage Solution"
          />
        </div>

        <div class="center">
          <textarea
            class="hejbit-textarea"
            name="additional_comments"
            placeholder="Additional Comments and Questions"
          ></textarea>
        </div>

        <div class="mt-32">
          <label for="terms_conditions"></label>
          <input type="checkbox" name="terms_conditions" required />
          I understand that MetaProvide reserves the right to revoke this
          license at any time. MetaProvide will provide a procedure for backing
          up files uploaded to Swarm in such an event.
        </div>

        <div>
          <label>
            <input type="checkbox" name="privacy_policy" required />
            I agree to the
            <a href="https://metaprovide.org/privacy-policy" target="_blank"
              >Privacy Policy</a
            >
          </label>
        </div>
        <!-- <div class="flex-row center">
          <div class="frc-captcha mt-32 mb-32 custom-captcha" 
                data-sitekey="FCMHP1D2JKQ1BBI1"></div>
        </div> -->

        <div class="center mt-32">
          <button class="hejbit-button w-100" type="submit">Submit</button>
        </div>
      </form>
    </main>

    <script>
      document
        .getElementById("trial-license-form")
        .addEventListener("submit", async function (event) {
          event.preventDefault();

          const formData = new FormData(event.target);
          const messageElement = document.getElementById("form-message");

          // Verify Friendly Captcha
          const captchaResponse = document.querySelector('.frc-captcha-solution').value;
          if (!captchaResponse) {
              messageElement.innerHTML =
                '<p class="message-fail">Please complete the captcha</p>';
              return;
          }

          try {
            const response = await fetch(
              "https://mailer-vercel.vercel.app/api/send-email-license",
              {
                method: "POST",
                body: JSON.stringify(Object.fromEntries(formData)),
                headers: {
                  "Content-Type": "application/json",
                },
              }
            );

            const result = await response.json();

            if (response.ok) {
              messageElement.innerHTML =
                '<p class="message-success">Your message was sent successfully!</p>';
              
              // clear form
              event.target.reset();
            } else {
              messageElement.innerHTML =
                '<p class="message-fail">There was an error: ' +
                result.message +
                "</p>";
            }
          } catch(error) {
              messageElement.innerHTML =
                '<p class="message-fail">There was an error submitting your request. Please try again.</p>';
              console.error("Error:", error);

              // Remove the message after 5 seconds
              setTimeout(() => {
                messageElement.innerHTML = "";
              }, 5000);
            };
        });
    </script>
  </body>
</html>
